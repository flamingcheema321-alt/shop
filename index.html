<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cheema Shop</title>
<style>
  * { font-family: Arial, sans-serif; box-sizing: border-box; }
  body { margin: 0; padding: 0; }
  header { background: #4CAF50; color: white; padding: 1em; text-align: center; position: relative; }
  .container { display: flex; flex-wrap: wrap; padding: 1em; justify-content: center; }
  .product { border: 1px solid #ccc; padding: 1em; width: 200px; margin: 0.5em; text-align: center; }
  .product img { width: 100%; height: auto; }
  input, select, button, textarea { padding: 0.5em; margin: 0.3em 0; width: 100%; font-family: Arial, sans-serif; }
  #cart {
    position: fixed;
    top: 1em;
    right: -300px;
    background: #f8f8f8;
    padding: 1em;
    border: 1px solid #ccc;
    width: 260px;
    transition: right 0.3s ease;
    z-index: 1000;
  }
  #cart.open { right: 1em; }
  #checkout { margin-top: 1em; }
  #cart-icon { cursor: pointer; width: 30px; height: 30px; position: absolute; top: 10px; right: 10px; }
</style>
</head>
<body>

<header>
  <h1>Cheema Shop</h1>
  <img src="download (4).png" alt="Cart Icon" id="cart-icon" />
</header>

<div class="container">

  <!-- Product 1 -->
  <div class="product">
    <img src="download.png" alt="Knee Pads" />
    <h3>Knee Pads</h3>
    <p>Price: PKR <span>2000</span></p>
    <select class="size-selector" data-product="1">
      <option value="S">Small</option>
      <option value="M">Medium</option>
      <option value="L">Large</option>
      <option value="XL">Extra Large</option>
    </select>
    <button onclick="addToCart(1)">Add to Cart</button>
  </div>

  <!-- Product 2 -->
  <div class="product">
    <img src="download (2).png" alt="Salah Prayer Mat" />
    <h3>Ergonomic Salah Prayer Mat</h3>
    <p>Price: PKR <span>5900</span></p>
    <button onclick="addToCart(2)">Add to Cart</button>
  </div>

  <!-- Product 3 -->
  <div class="product">
    <img src="download (3).png" alt="Islamic Jar" />
    <h3>Islamic Jar</h3>
    <p>Price: PKR <span>990</span></p>
    <button onclick="addToCart(3)">Add to Cart</button>
  </div>

</div>

<div id="cart">
  <h3>Cart</h3>
  <ul id="cart-items"></ul>
  <strong>Total: PKR <span id="cart-total">0</span></strong>

  <div id="customer-info">
    <h4>Customer Details</h4>
    <input type="text" id="customer-name" placeholder="Your Name" />
    <input type="text" id="customer-phone" placeholder="Phone Number" />
    <textarea id="customer-address" placeholder="Delivery Address"></textarea>
    <select id="payment-method">
      <option value="easypaisa">Easypaisa</option>
      <option value="cod">Cash on Delivery</option>
    </select>
  </div>

  <div id="checkout">
    <button onclick="checkout()">Checkout</button>
  </div>
</div>

<script>
let cart = [];

const products = {
  1: { id: 1, name: "Knee Pads", price: 2000 },
  2: { id: 2, name: "Ergonomic Salah Prayer Mat", price: 5900 },
  3: { id: 3, name: "Islamic Jar", price: 990 }
};

// Toggle cart visibility
const cartIcon = document.getElementById("cart-icon");
const cartElement = document.getElementById("cart");
cartIcon.addEventListener("click", () => {
  cartElement.classList.toggle("open");
});

// Add product to cart
function addToCart(productId) {
  const product = products[productId];
  let size = "Standard";

  if (productId === 1) {
    const sizeSelector = document.querySelector(`.size-selector[data-product="${productId}"]`);
    size = sizeSelector.value;
  }

  const existing = cart.find(c => c.id === product.id && c.size === size);

  if (existing) {
    existing.quantity++;
  } else {
    cart.push({ ...product, size: size, quantity: 1 });
  }

  renderCart();
  cartElement.classList.add("open"); // Auto-open cart when adding item
}

// Render cart items
function renderCart() {
  const cartItems = document.getElementById("cart-items");
  const cartTotal = document.getElementById("cart-total");
  cartItems.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    const li = document.createElement("li");
    li.textContent = `${item.name} (${item.size}) x ${item.quantity} - PKR ${item.price * item.quantity}`;
    cartItems.appendChild(li);
    total += item.price * item.quantity;
  });

  cartTotal.textContent = total;
}

// Checkout process
function checkout() {
  if (cart.length === 0) {
    alert("Your cart is empty!");
    return;
  }

  const name = document.getElementById("customer-name").value.trim();
  const phone = document.getElementById("customer-phone").value.trim();
  const address = document.getElementById("customer-address").value.trim();
  const payment = document.getElementById("payment-method").value;

  if (!name || !phone || !address) {
    alert("Please fill all customer details.");
    return;
  }

  let total = cart.reduce((sum, i) => sum + i.price * i.quantity, 0);
  let paymentText = "";

  if (payment === "cod") {
    total += 300;
    paymentText = "Cash on Delivery (Delivery Fee: 300 PKR)";
  } else {
    paymentText = "Easypaisa (Payable Amount: " + total + " PKR)";
  }

  let orderDetails = `Order Details:\n\nCustomer Name: ${name}\nPhone: ${phone}\nAddress: ${address}\nPayment Method: ${paymentText}\n\nItems:\n`;
  cart.forEach(item => {
    orderDetails += `${item.name} (${item.size}) x ${item.quantity} - PKR ${item.price * item.quantity}\n`;
  });
  orderDetails += `\nTotal: PKR ${total}`;

  alert(orderDetails);

  // Reset cart
  cart = [];
  renderCart();
  cartElement.classList.remove("open");
  document.getElementById("customer-name").value = "";
  document.getElementById("customer-phone").value = "";
  document.getElementById("customer-address").value = "";
  document.getElementById("payment-method").value = "easypaisa";
}
</script>

</body>
</html>
